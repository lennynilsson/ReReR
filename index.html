
<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="app" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="app" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="app" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="app" class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>ReReR</title>
<meta name="description" content="RedditReadR">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<base href="/ReReR/" />
<meta property="og:title" content="RedditReadR" />
<meta property="og:site_name" content="RedditReadR" />
<meta property="og:description " content="Read Reddit like it was Pinterest" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://lennynilsson.github.io/ReReR/" />
<meta property="og:image" content="http://lennynilsson.github.io/ReReR/reddit.png" />

<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="css/style.css">

<script src="vendor/modernizr-2.6.2-respond-1.1.0.min.js" type="text/javascript"></script>
</head>
<body ng-cloak ng-scroll ng-controller="LightBoxController" ng-class="{lightBoxShown:lightBoxShown}">
	<!--[if lt IE 7]>
	<div class="container-fluid">
		<div class="alert alert-warning" role="alert">
			<strong>You are using an outdated browser.</strong> Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
		</div>
	</div>
	<![endif]-->
	
  	<div ng-view></div>

	<!-- /container -->
	<script src="vendor/angular/angular.min.js" type="text/javascript"></script>
	<script src="vendor/angular/angular-resource.min.js" type="text/javascript"></script>
	<script src="vendor/angular/angular-route.min.js" type="text/javascript"></script>
	<script src="vendor/angular/angular-sanitize.min.js" type="text/javascript"></script>
	<script src="vendor/ui-bootstrap-0.12.0.min.js" type="text/javascript"></script>
	<script src="vendor/markdown.min.js" type="text/javascript"></script>
	<script src="js/app.js" type="text/javascript"></script>	
	<script>
		if ('http://lennynilsson.github.io' == window.location.origin) {
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-57377243-1', 'auto');
            ga('send', 'pageview', { page: window.location.hash });
		} else {
            window.ga = function(){ if (console) console.log(arguments) };
            window.ga_debug = {trace: true};
        }
	</script>
	<script type="text/ng-template" id="/partials/main.html">
		<div ng-class="{sfw:sfw}">
			<nav class="navbar navbar-inverse navbar-fixed-top shadow" role="navigation" ng-controller="MenuController">
				<div class="container-fluid">
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" ng-class="{collapsed:collapsed}"
								ng-click="toggleMenu()">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#/hot">RedditReadR</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="navbar-collapse" ng-class="{collapse:collapsed}">
						<form id="subreddit-form" class="navbar-form navbar-left">
							<div class="form-group" ng-controller="SuggestController">
								<input type="text"
									   class="form-control"
									   placeholder="{{placeholder}}"
									   ng-model="textField"
									   ng-focus="set()"
									   ng-blur="reset()"
									   ng-key="{esc: 'reset()', enter: 'setSubreddit(textField)', up: 'changeActive(highlightedIndex-1)', down: 'changeActive(highlightedIndex+1)'}"
									   ng-change="suggest()"
									   id="subreddit"
									   autocomplete="off"
									   tabindex="-1" />
								<ul class="dropdown-menu suggestions" ng-show="suggestions.length">
									<li id="suggest-{{suggestion.name}}"
										ng-repeat="suggestion in suggestions"
										ng-mouseover="setActive(suggestion)"
										ng-class="{active:(true === suggestion.highlighted)}"
										class="suggestion link">
										<a href="" ng-mousedown="setSubreddit(suggestion.name)"><b>{{suggestion.label}}</b><br><i><small>{{suggestion.name}}</small></i></a>
									</li>
								</ul>
							</div>
							<button type="button" class="btn btn-danger" ng-class="{active:!sfw}" ng-click="toggleSafeForWork()">NSFW</button>
						</form>
						<ul class="nav navbar-nav navbar-right">
							<li ng-class="{active:sorting=='hot'}"><a ng-click="setSorting('hot')" title="Hot"><i class="glyphicon glyphicon-fire" aria-hidden="true"></i><span class="hidden-sm"> Hot</span></a></li>
							<li ng-class="{active:sorting=='new'}"><a ng-click="setSorting('new')" title="New"><i class="glyphicon glyphicon-asterisk" aria-hidden="true"></i><span class="hidden-sm"> New</span></a></li>
							<li ng-class="{active:sorting=='top'}"><a ng-click="setSorting('top')" title="Top"><i class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></i><span class="hidden-sm"> Top</span></a></li>
							<li ng-class="{active:sorting=='controversial'}"><a ng-click="setSorting('controversial')" title="Controversial"><i class="glyphicon glyphicon-warning-sign" aria-hidden="true"></i><span class="hidden-sm"> Controversial</span></a></li>
						</ul>
					</div>
					<!-- /.navbar-collapse -->
				</div>
				<!-- /.container-fluid -->
			</nav>
			<div class="container-fluid" ng-controller="ListController">
				<div class="alert alert-warning alert-dismissible" role="alert" ng-class="{hidden:!showDisclaimer}">
					<button type="button" class="close" ng-click="showDisclaimer = !showDisclaimer">
						<span aria-hidden="true">&times;</span>
						<span class="sr-only">Close</span></button>
					<strong><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span> Disclaimer!</strong> I assume no responsibility or liability for any loss or damage suffered by any person as a result of the use or misuse of any of the information or content on this website.
				</div>

				<div ng-container="cards" ng-preload="loadMore()" ng-click="debug()">
					<div ng-repeat="card in cards track by $index" ng-include="'/partials/card.html'" class="item"></div>
				</div>

				<div class="clearfix"></div>
				<button class="btn btn-success btn-lg btn-block" ng-hide="endOfList" ng-disabled="loading" ng-click="loadMore()">{{loading ? 'Loading...' : 'Load more'}}</button>

				<footer>
					<hr>
					<p class="text-center">by <a target="_blank" href="https://github.com/lennynilsson">Lenny Nilsson</a> 2015</p>
				</footer>
			</div>

			<!-- Modal -->
			<div class="modal fade" id="confirm_modal" tabindex="-1" role="dialog" aria-labelledby="confirm_modal_title" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
							<h4 class="modal-title" id="confirm_modal_title">Confirm that you are over 18 years old?</h4>
						</div>
						<div class="modal-body">
							<p>Press yes to confirm that you are over 18 years old.</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal" id="ans_no">No</button>
							<button type="button" class="btn btn-default" data-dismiss="modal" id="ans_yes">Yes</button>
						</div>
					</div>
				</div>
			</div>

		</div>

		<div class="lightbox" ng-show="lightBoxShown">
			<div class="lightbox-backdrop">
				<div class="lightbox-content container-fluid">
					<div class="lightbox-header panel panel-default">
						<div class="panel-body">
							<small>
                    <span class="no-break">
                        <span class="glyphicon glyphicon-heart" aria-hidden="true"></span> {{card.rating}}
                    </span>
								&nbsp;
                    <span class="no-break">
                        <span class="glyphicon glyphicon glyphicon-comment" aria-hidden="true"></span> {{card.num_comments}}
                    </span>
								&nbsp;
                    <span class="no-break link" ng-click="setSubreddit(card.subreddit)">
                        <span class="glyphicon glyphicon-record" aria-hidden="true"></span> #{{card.subreddit_path}}
                    </span>
								&nbsp;
                    <span class="no-break link" ng-click="open(card.author_url)">
                        <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> {{card.author}}
                    </span>
								&nbsp;
                    <span class="no-break link" ng-click="open(card.subreddit_url)">
                        <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> {{card.subreddit_path}}
                    </span>
								&nbsp;
                    <span class="no-break link" ng-click="open(card.source_url)">
                        <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> {{card.source}}
                    </span>
								<button type="button" class="close" ng-click="closeLightBox()" title="Close">&times;</button>
							</small>
						</div>
					</div>
					<div class="lightbox-body" ng-include="'/partials/lightbox.html'" ng-click="closeLightBox()"></div>
				</div>
			</div>
		</div>
	</script>
	<script type="text/ng-template" id="/partials/card.html">
		<div>
			<div class="list-group">
				<div ng-if="card.content_image" class="list-group-item item-image full">
					<img class="img-responsive clickable" ng-src="{{card.content_image}}" alt="{{card.title}}"
						 ng-click="showInLightBox(card)">
				</div>
				<div ng-if="card.content_gif" class="list-group-item item-gif full">
					<img class="img-responsive clickable" alt="{{card.title}}"
						 ng-src="{{card.content_thumb}}"
						 ng-click="showInLightBox(card)">
				</div>
				<div ng-repeat="image in card.content_images" class="list-group-item item-image full">
					<img class="img-responsive clickable" ng-src="{{image}}" alt="{{card.title}}"
						 ng-click="showInLightBox(card)">
				</div>
				<div ng-if="card.content_text || card.content_thumb" class="list-group-item item-text">
					<img class="thumb" ng-src="{{card.content_thumb}}" alt="{{card.title}}"
						 ng-if="card.content_thumb && !card.content_image && !card.content_gif"
						 ng-class="{nsfw:card.nsfw}" ng-click="showInLightBox(card)">
					<p ng-click="showInLightBox(card)">{{card.content_text}}</p>
					<div class="clearfix"></div>
				</div>
				<div ng-if="card.content_raw" class="list-group-item item-raw" ng-click="showInLightBox(card)">
					<div ng-bind-html="card.content_raw"></div>
				</div>
				<div class="list-group-item item-control active">
					<small>
				<span class="white no-break">
				<span class="glyphicon glyphicon-heart" aria-hidden="true"></span> {{card.rating}}
				</span>
						&nbsp;
				<span class="white no-break">
				<span class="glyphicon glyphicon glyphicon-comment" aria-hidden="true"></span> {{card.num_comments}}
				</span>
						&nbsp;
				<span class="white no-break link" ng-click="open(card.comments_url)">
				<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Post
				</span>
						&nbsp;
				<span class="white no-break link" ng-click="open(card.author_url)">
				<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> /u/{{card.author}}
				</span>
						&nbsp;
				<span class="white no-break link" ng-click="open(card.subreddit_url)">
				<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> {{card.subreddit_path}}
				</span>
						&nbsp;
				<span class="white no-break link" ng-click="open(card.source_url)">
				<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> {{card.source}}
				</span>
						&nbsp;
				<span class="white no-break link" ng-click="setSubreddit(card.subreddit)">
				<span class="glyphicon glyphicon-record" aria-hidden="true"></span> #{{card.subreddit_path}}
				</span>
					</small>
				</div>
			</div>
		</div>
	</script>
	<script type="text/ng-template" id="/partials/lightbox.html">
		<img class="card img-responsive" ng-if="card.content_image" ng-src="{{card.content_image}}" alt="{{card.title}}">
		<img class="card img-responsive" ng-if="card.content_gif" ng-src="{{card.content_gif}}" alt="{{card.title}}">
		<img class="card img-responsive" ng-repeat="image in card.content_images" ng-src="{{image}}" alt="{{card.title}}">
		<div class="card content-raw" ng-if="card.content_raw">
			<p class="lead" ng-if="card.content_text">{{card.content_text}}</p>
			<div ng-bind-html="card.content_raw"></div>
			<div class="clearfix"></div>
		</div>
		<iframe class="card content-embeded" ng-if="card.content_embed" title="{{card.title}}" ng-src="{{card.content_embed}}" frameborder="0" scrolling="no" height="100%" wmode="Opaque" allowfullscreen />
	</script>
</body>
</html>
